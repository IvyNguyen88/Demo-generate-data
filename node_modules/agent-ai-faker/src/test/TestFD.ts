import { Schema } from "cohere-ai/core/schemas";
import { generateFakeData } from "../helpers/ai/sevices/agenAI/generatorDataSchema";

// Example usage
(async () => {
    const requirement = "Generate 10 users for an e-commerce platform.";
    const schema = {
        firstName: 'string',
        lastName: 'string',
        email: 'string',
        subscriptionStatus: 'string',
        lastEngagementDate: 'date',
    };
    const fakeData = await generateFakeData(requirement, schema, 'json', 10);
    console.log(fakeData);
})();
    

function validateJsonData(data: string, schema: Schema): boolean {
    try {
        const json = JSON.parse(data);
        return Array.isArray(json) && json.every(item =>
            Object.keys(schema).every(field => field in item)
        );
    } catch (error) {
        return false;
    }
}